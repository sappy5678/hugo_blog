<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=theme-color content="#494f5c"><meta name=msapplication-TileColor content="#494f5c"><meta itemprop=name content="MySQL Lock Mode"><meta itemprop=description content="簡單介紹及翻譯 MySQL Lock Mode"><meta itemprop=dateModified content="2023-01-01T09:25:20+00:00"><meta itemprop=wordCount content="1430"><meta itemprop=keywords content="MySQL,DB,"><meta property="og:title" content="MySQL Lock Mode"><meta property="og:description" content="簡單介紹及翻譯 MySQL Lock Mode"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.sappy.tw/posts/%E5%BE%8C%E7%AB%AF/mysql/mysql-lock-mode/"><meta property="article:section" content="posts"><meta property="article:modified_time" content="2023-01-01T09:25:20+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="MySQL Lock Mode"><meta name=twitter:description content="簡單介紹及翻譯 MySQL Lock Mode"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><title>MySQL Lock Mode</title><link rel=stylesheet href=https://blog.sappy.tw/css/style.min.037b6ee8f8c1baab6a3d0a9da11c3ff18a7552471f16c59fd98538d5ce99208b.css integrity="sha256-A3tu6PjBuqtqPQqdoRw/8Yp1UkcfFsWf2YU41c6ZIIs=" crossorigin=anonymous></head><body id=page><header id=site-header class="animated slideInUp"><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://blog.sappy.tw>sappy blog</a></div><nav class="site-nav hide-in-mobile"><a href=https://blog.sappy.tw/posts/>Posts</a>
<a href=https://blog.sappy.tw/about-hugo/>About</a></nav></div><div class="hdr-right hdr-icons"><span class="hdr-social hide-in-mobile"><a href=https://github.com/sappy5678 target=_blank rel="noopener me" title=Github><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></span><button id=menu-btn class=hdr-btn title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://blog.sappy.tw/posts/>Posts</a></li><li><a href=https://blog.sappy.tw/about-hugo/>About</a></li></ul></div><main class="site-main section-inner animated fadeIn faster"><article class=thin><header class=post-header><div class=post-meta><span>Jan 1, 2023</span></div><h1>MySQL Lock Mode</h1></header><div class=content><h1 id=mysql-lock-mode>mysql lock mode<a href=#mysql-lock-mode class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>Status: Not started
Tags: MySQL</p><p><a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html>MySQL :: MySQL 8.0 Reference Manual :: 15.7.1 InnoDB Locking</a></p><p>InnoDB 的 lock</p><p>主要分成這幾種</p><h1 id=-shared-and-exclusive-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-shared-exclusive-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-shared-exclusive-locks>Shared and Exclusive Locks</a><a href=#-shared-and-exclusive-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-shared-exclusive-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>InnoDB 在 row-level 的 lock 有兩種不同的類型</p><ul><li>Shared(S) locks - 讓持有該 lock 的 transaction 能讀取這行 row 的資料</li><li>Exclusive(X) locks - 讓持有該 lock 的 transaction 能修改 刪除這行 row 的資料</li></ul><p>其中 S lock 是可以共享的， X lock 則不能</p><p>舉些例子</p><ol><li>如果 transaction t1 已經有 row r 的 S lock，那這時 transaction t2 要求 row r 的 lock 時<ul><li>如果 t2 要求 row r 的 S lock，則兩個. transaction 都能拿到 S lock， S lock 互相不排斥</li><li>如果 t2 要求 row r 的 X lock，則 t2 需要等到 t1 做完後才能拿到 row r 的 X lock</li></ul></li><li>如果 transaction t1 已經有 row r 的 X lock，那這時無論 transaction t2 要求 X lock 或是 S lock 都需要等 t1 做完後才能拿到</li></ol><h1 id=-intention-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-intention-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-intention-locks>Intention Locks</a><a href=#-intention-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-intention-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>InnoDB 支援不同顆粒度的鎖，像是 row lock，或者是 table lock</p><p>那假設現在 transaction t1 想要對整張表 table1 加上 X lock，此時 InnoDB 會需要先檢查 table1 這張表的每個 record 是否已經有被其他 transaction lock 了，才能決定是否要給 transaction t1 表級別的 lock。</p><p>但是，要掃描整張表的 record lock 效率太差了，因此才誕生出 intention lock，讓 InnoDB 能更好的判斷是否能夠給 transaction table 等級的 lock</p><p>Intention lock 表示某個 transaction 想要再這個 table 的某個 record 上加上鎖</p><p>因此</p><ul><li><a href=https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_intention_shared_lock>intention shared lock</a> (IS) 表示這張表上，有個 transaction 想要拿到某個 row 的 S lock</li><li><a href=https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_intention_exclusive_lock>intention exclusive lock</a> (IX) 表示這張表上，有個 transaction 想要拿到某個 row 的 X lock</li></ul><p>首先，先確立兩點規則</p><ol><li>任何 transaction 要拿 row S lock 時，必須先拿到該 table 的 intention share(IS) lock 或是更強的 lock</li><li>任何 transaction 要拿 row X lock 時，必須先拿到該 table 的 intention exclusive(IX) lock</li></ol><p>因此，如果一個 transaction 想要拿到 table 等級的 X 或 S lock，則我們只需要檢查該 table 有沒有被其他 transaction 加上 IX 或 IS lock，就能知道該不該給 table 等級的 X 或 S lock</p><p>也因此，IX 跟 IS 相互之間是不衝突的，只有當 table 等級的 S 或 X lock 來時，才要判斷是否能給 lock，下面是 table 級別 lock 的兼容性</p><table><thead><tr><th></th><th>X</th><th>IX</th><th>S</th><th>IS</th></tr></thead><tbody><tr><td>X</td><td>Conflict</td><td>Conflict</td><td>Conflict</td><td>Conflict</td></tr><tr><td>IX</td><td>Conflict</td><td>Compatible</td><td>Conflict</td><td>Compatible</td></tr><tr><td>S</td><td>Conflict</td><td>Conflict</td><td>Compatible</td><td>Compatible</td></tr><tr><td>IS</td><td>Conflict</td><td>Compatible</td><td>Compatible</td><td>Compatible</td></tr></tbody></table><h1 id=-record-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-record-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-record-locks>Record Locks</a><a href=#-record-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-record-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>在 InnoDB 中 row lock 其實就是把該 row 的 <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-index-types.html>cluster index</a> 給 lock 住，因此 InnoDB 的 row lock 其實就是 record lock.</p><p>如果說該 table 沒有 cluster index，那 InnoDB 會自己建一個隱藏的 <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-index-types.html>cluster index</a>，並 lock 對應 row 的 index</p><h1 id=-gap-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-gap-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-gap-locks>Gap Locks</a><a href=#-gap-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-gap-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>用來鎖 兩個 index 中間範圍的鎖</p><p>例如下面這句執行時，會把 10 ~ 20 範圍內的鎖全部鎖起來，防止有其他 transaction 在中間插入新的 row</p><p><code>SELECT c1 FROM t WHERE c1 BETWEEN 10 and 20 FOR UPDATE;</code></p><p>這樣做是為了防止 <code>幻讀 (Phantom Reads)</code> 發生，亦即 t1 讀取同樣範圍兩次，但 t2 在這之間插入了一筆資料，這時候 t1 兩次讀出來的行數會不一樣，這就是 <code>幻讀 (Phantom Reads)</code></p><p>也因為這是為了防止 幻讀 (Phantom Reads) 的發生，因此如果把 transaction isolation level 切成 <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html#isolevel_read-committed>READ COMMITTED</a> 的話，就不會產生 gap lock</p><p>Gap lock 對於 unique index 無效，但對其他類型的 index 有效</p><p>例如下面這句</p><p><code>SELECT * FROM child WHERE id = 100;</code></p><p>如果 id 不是 <code>unique index</code> 的話，那 100 之前到下一個有效 index (例如 90) 之間的範圍 (91 ~ 100)會被鎖起來，然而，如果是 <code>unique index</code> ，則只會鎖上這行而已</p><p>此外，比較有趣的一點是 gap lock 是可以被多個 transaction 同時持有的，因為 gap lock 之間不衝突，都是執行同樣的功能 (防止 record 遭到變化)，也因此， S gap lock 跟 X gap lock 沒有區別</p><p>更多例子可以參考</p><p><a href=https://juejin.cn/post/7018137095315128328>带你了解record lock、gap lock、next-key lock - 掘金 (juejin.cn)</a></p><p><a href=https://blog.twjoin.com/%E9%8E%96-lock-%E7%9A%84%E4%BB%8B%E7%B4%B9%E8%88%87%E6%AD%BB%E9%8E%96%E5%88%86%E6%9E%90-19833c18baab>鎖( Lock )的介紹與死鎖分析</a></p><h1 id=-next-key-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-next-key-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-next-key-locks>Next-Key Locks</a><a href=#-next-key-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-next-key-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>就是 record lock + gap lock，例如</p><p><code>SELECT * FROM child WHERE id = 100;</code></p><p>如果 id 不是 <code>unique index</code> 的話，那 100 之前到下一個有效 index (例如 90) 之間的範圍 (91 ~ 100)會被鎖起來，然而，如果是 <code>unique index</code> ，則只會鎖上這行而已</p><h1 id=-insert-intention-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-insert-intention-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-insert-intention-locks>Insert Intention Locks</a><a href=#-insert-intention-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-insert-intention-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>是 gap lock 的一種，在插入前會要先取得，主要是讓兩個插入可以不用等待</p><p>例如 gap 是 10 ~ 20，這時候如果一個要插入 13 另一個插入 17 的話，這兩個插入就不會衝突，因此都可以拿到 Insert Intention lock</p><h1 id=-auto-inc-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-auto-inc-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-auto-inc-locks>AUTO-INC Locks</a><a href=#-auto-inc-lockshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-auto-inc-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><p>當插入有 AUTO_INCREMENT 的 table 時，則會把整張表 lock 住，其他想插入的 transaction 必須等到做完後才能繼續做，這樣做是為了取得連續的 index</p><p>我們可以透過 變數 <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_autoinc_lock_mode>innodb_autoinc_lock_mode</a> 來控制 lock 的行為，詳細可以看 <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-auto-increment-handling.html>Section 15.6.1.6, “AUTO_INCREMENT Handling in InnoDB”</a></p><h1 id=-predicate-locks-for-spatial-indexeshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-predicate-locks>• <a href=https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-predicate-locks>Predicate Locks for Spatial Indexes</a><a href=#-predicate-locks-for-spatial-indexeshttpsdevmysqlcomdocrefman80eninnodb-lockinghtmlinnodb-predicate-locks class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><h1 id=延伸閱讀>延伸閱讀<a href=#延伸閱讀 class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h1><ul><li><a href=https://zhuanlan.zhihu.com/p/222111898>你的insert死锁了看这里 - 知乎 (zhihu.com)</a></li><li><a href=https://github.com/octachrome/innodb-locks>https://github.com/octachrome/innodb-locks</a></li><li></li></ul></div><hr class=post-end><footer class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://blog.sappy.tw/tags/mysql>MySQL</a></span><span class=tag><a href=https://blog.sappy.tw/tags/db>DB</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2023-01-01 09:25 +0000</p></footer></article><div class="post-nav thin"><a class=next-post href=https://blog.sappy.tw/posts/%E5%BE%8C%E7%AB%AF/lock/%E6%A8%82%E8%A7%80%E9%8E%96_%E6%82%B2%E8%A7%80%E9%8E%96/><span class=post-nav-label><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>&nbsp;</span><br><span>樂觀鎖 悲觀鎖</span></a>
<a class=prev-post href=https://blog.sappy.tw/posts/%E5%BE%8C%E7%AB%AF/k8s/k8s_debug/><span class=post-nav-label>&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>K8S debug 技巧</span></a></div><div id=comments class=thin><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//sappy-blog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2024 <a href=https://blog.sappy.tw>sappy</a> &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></p><p>Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> &#183; Theme <a href=https://github.com/Track3/hermit target=_blank rel=noopener>Hermit</a> &#183; <a href=https://blog.sappy.tw/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></p></footer><script src=https://blog.sappy.tw/js/bundle.min.580988ed2982bcbb74a1773c7abea97b43e4c43b9324e10cda0813ec6ec4bb67.js integrity="sha256-WAmI7SmCvLt0oXc8er6pe0PkxDuTJOEM2ggT7G7Eu2c=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-153138277-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>